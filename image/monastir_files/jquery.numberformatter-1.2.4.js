!function(e){var r=new Hashtable,t=[[".",","],[",","."],[","," "],[".","'"]],n=[["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],["bg","cz","fi","fr","no","pl","ru","se"],["ch"]];function a(e,a){0==r.size()&&function(){for(var e=0;e<n.length;e++)for(var t=n[e],a=0;a<t.length;a++)r.put(t[a],e)}();var i=".",l=",";0==a&&(-1!=e.indexOf("_")?e=e.split("_")[1].toLowerCase():-1!=e.indexOf("-")&&(e=e.split("-")[1].toLowerCase()));var o=r.get(e);if(o){var u=t[o];u&&(i=u[0],l=u[1])}return new function(e,r,t){this.dec=e,this.group=r,this.neg=t}(i,l,"-")}e.fn.formatNumber=function(r,t,n){return this.each(function(){var a;null==t&&(t=!0),null==n&&(n=!0),a=e(this).is(":input")?new String(e(this).val()):new String(e(this).text());var i=e.formatNumber(a,r);if(t&&(e(this).is(":input")?e(this).val(i):e(this).text(i)),n)return i})},e.formatNumber=function(r,t){for(var n=a((t=e.extend({},e.fn.formatNumber.defaults,t)).locale.toLowerCase(),t.isFullLocale),i=(n.dec,n.group,n.neg,""),l=!1,o=0;o<t.format.length;o++){if(-1!="0#-,.".indexOf(t.format.charAt(o))){if(0==o&&"-"==t.format.charAt(o)){l=!0;continue}break}i+=t.format.charAt(o)}var u="";for(o=t.format.length-1;o>=0&&-1=="0#-,.".indexOf(t.format.charAt(o));o--)u=t.format.charAt(o)+u;t.format=t.format.substring(i.length),t.format=t.format.substring(0,t.format.length-u.length);var f=new Number(r);return e._formatNumber(f,t,u,i,l)},e._formatNumber=function(r,t,n,i,l){var o=a((t=e.extend({},e.fn.formatNumber.defaults,t)).locale.toLowerCase(),t.isFullLocale),u=o.dec,f=o.group,s=o.neg;null!=t.overrideGroupSep&&(f=t.overrideGroupSep),null!=t.overrideDecSep&&(u=t.overrideDecSep),null!=t.overrideNegSign&&(s=t.overrideNegSign);var c=!1;if(isNaN(r)){if(1!=t.nanForceZero)return"";r=0,c=!0}(1==t.isPercentage||t.autoDetectPercentage&&"%"==n.charAt(n.length-1))&&(r*=100);var g="";if(t.format.indexOf(".")>-1){var h=u,d=t.format.substring(t.format.lastIndexOf(".")+1);if(1==t.round)r=new Number(r.toFixed(d.length));else{var m=r.toString();m.lastIndexOf(".")>0&&(m=m.substring(0,m.lastIndexOf(".")+d.length+1)),r=new Number(m)}var v=new Number(r.toString().substring(r.toString().indexOf(".")));decimalString=new String(v.toFixed(d.length)),decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(var p=0;p<d.length;p++)if("#"!=d.charAt(p)||"0"==decimalString.charAt(p)){if("#"==d.charAt(p)&&"0"==decimalString.charAt(p)){if(decimalString.substring(p).match("[1-9]")){h+=decimalString.charAt(p);continue}break}"0"==d.charAt(p)&&(h+=decimalString.charAt(p))}else h+=decimalString.charAt(p);g+=h}else r=Math.round(r);var S=Math.floor(r);r<0&&(S=Math.ceil(r));var b="";b=-1==t.format.indexOf(".")?t.format:t.format.substring(0,t.format.indexOf("."));var x="";if(0!=S||"#"!=b.substr(b.length-1)||c){var N=new String(Math.abs(S)),w=9999;-1!=b.lastIndexOf(",")&&(w=b.length-b.lastIndexOf(",")-1);var A=0;for(p=N.length-1;p>-1;p--)x=N.charAt(p)+x,++A==w&&0!=p&&(x=f+x,A=0);if(b.length>x.length){var O=b.indexOf("0");if(-1!=O)for(var F=b.length-O,D=b.length-x.length-1;x.length<F;){var L=b.charAt(D);","==L&&(L=f),x=L+x,D--}}}return x||-1===b.indexOf("0",b.length-1)||(x="0"),g=x+g,r<0&&l&&i.length>0?i=s+i:r<0&&(g=s+g),t.decimalSeparatorAlwaysShown||g.lastIndexOf(u)==g.length-1&&(g=g.substring(0,g.length-1)),g=i+g+n},e.fn.parseNumber=function(r,t,n){var a;null==t&&(t=!0),null==n&&(n=!0),a=e(this).is(":input")?new String(e(this).val()):new String(e(this).text());var i=e.parseNumber(a,r);if(i&&(t&&(e(this).is(":input")?e(this).val(i.toString()):e(this).text(i.toString())),n))return i},e.parseNumber=function(r,t){var n=a((t=e.extend({},e.fn.parseNumber.defaults,t)).locale.toLowerCase(),t.isFullLocale),i=n.dec,l=n.group,o=n.neg;null!=t.overrideGroupSep&&(l=t.overrideGroupSep),null!=t.overrideDecSep&&(i=t.overrideDecSep),null!=t.overrideNegSign&&(o=t.overrideNegSign);for(var u=".-",f=t.strict;r.indexOf(l)>-1;)r=r.replace(l,"");r=r.replace(i,".").replace(o,"-");var s="",c=!1;(1==t.isPercentage||t.autoDetectPercentage&&"%"==r.charAt(r.length-1))&&(c=!0);for(var g=0;g<r.length;g++)if("1234567890".indexOf(r.charAt(g))>-1)s+=r.charAt(g);else if(u.indexOf(r.charAt(g))>-1)s+=r.charAt(g),u=u.replace(r.charAt(g),"");else{if(t.allowPostfix)break;if(f){s="NaN";break}}var h=new Number(s);if(c){h/=100;var d=s.indexOf(".");if(-1!=d){var m=s.length-d-1;h=h.toFixed(m+2)}else h=h.toFixed(2)}return h},e.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,autoDetectPercentage:!0,isFullLocale:!1,strict:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,allowPostfix:!1},e.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,isPercentage:!1,autoDetectPercentage:!0},Number.prototype.toFixed=function(r){return e._roundNumber(this,r)},e._roundNumber=function(e,r){var t=Math.pow(10,r||0),n=String(Math.round(e*t)/t);if(r>0){var a=n.indexOf(".");for(-1==a?(n+=".",a=0):a=n.length-(a+1);a<r;)n+="0",a++}return n}}(jQuery);